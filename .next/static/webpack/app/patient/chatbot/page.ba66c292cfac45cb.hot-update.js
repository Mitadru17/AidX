"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/patient/chatbot/page",{

/***/ "(app-pages-browser)/./src/app/patient/chatbot/page.tsx":
/*!******************************************!*\
  !*** ./src/app/patient/chatbot/page.tsx ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PatientChatbot; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _clerk_nextjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @clerk/nextjs */ \"(app-pages-browser)/./node_modules/@clerk/clerk-react/dist/esm/index.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nfunction PatientChatbot() {\n    _s();\n    const { user, isLoaded } = (0,_clerk_nextjs__WEBPACK_IMPORTED_MODULE_5__.useUser)();\n    const { signOut } = (0,_clerk_nextjs__WEBPACK_IMPORTED_MODULE_5__.useClerk)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useRouter)();\n    const [mounted, setMounted] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([\n        {\n            id: \"1\",\n            text: \"Hello! How can I help you with your healthcare questions today?\",\n            sender: \"bot\",\n            timestamp: new Date()\n        }\n    ]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    // Use the provided Gemini API key\n    const GEMINI_API_KEY = \"AIzaSyC-KcSv3Ibp9NCkwubA7UMmAFSeH-2EvIA\";\n    // Health FAQ responses for fallback\n    const healthFAQ = {\n        \"fever\": \"If you have a fever, it's recommended to rest, stay hydrated, and take over-the-counter fever reducers like acetaminophen if your temperature is above 100.4\\xb0F (38\\xb0C). If your fever persists for more than three days, exceeds 103\\xb0F (39.4\\xb0C), or is accompanied by severe symptoms, please seek medical attention immediately.\",\n        \"headache\": \"For headaches, try resting in a quiet, dark room, apply a cold compress to your forehead, and consider over-the-counter pain relievers like ibuprofen or acetaminophen. If you experience severe, sudden headaches, headaches with fever, stiff neck, confusion, seizures, or after a head injury, seek immediate medical attention.\",\n        \"cold\": \"For common colds, get plenty of rest, stay hydrated, use a humidifier, and try over-the-counter cold medications for symptom relief. If symptoms worsen after a week or you develop high fever, severe sore throat, or difficulty breathing, consult a healthcare provider.\",\n        \"cough\": \"For a cough, stay hydrated, use honey (if over 1 year old), try cough drops, use a humidifier, and avoid irritants. See a doctor if your cough lasts more than 3 weeks, brings up blood or thick mucus, or is accompanied by fever or difficulty breathing.\",\n        \"covid\": \"If you suspect COVID-19, monitor your symptoms, isolate yourself, rest, stay hydrated, and take over-the-counter medications for fever. Seek emergency care if you experience difficulty breathing, persistent chest pain, confusion, or bluish lips or face.\",\n        \"blood pressure\": \"To manage blood pressure, maintain a healthy diet low in sodium and rich in fruits and vegetables, exercise regularly, limit alcohol, avoid smoking, reduce stress, and take prescribed medications consistently. Regular monitoring is important.\",\n        \"diabetes\": \"For diabetes management, monitor your blood sugar regularly, take medications as prescribed, eat a balanced diet with consistent carbohydrate intake, exercise regularly, and attend all follow-up appointments with your healthcare provider.\",\n        \"allergy\": \"For allergies, identify and avoid triggers, take antihistamines or other prescribed medications, keep windows closed during high pollen seasons, use air purifiers, and shower after being outdoors. Consult an allergist for severe or persistent symptoms.\",\n        \"pain\": \"For general pain, try rest, ice or heat therapy, over-the-counter pain relievers, and gentle stretching. If pain is severe, worsening, or accompanied by other concerning symptoms, please consult a healthcare provider.\",\n        \"medication\": \"Always take medications as prescribed by your healthcare provider. Don't stop medications without consulting your doctor, even if you feel better. Keep a list of all medications you take, including over-the-counter drugs and supplements.\",\n        \"stomach\": \"For stomach issues, stay hydrated, eat bland foods like bananas, rice, applesauce, and toast (BRAT diet), avoid spicy or fatty foods, and consider over-the-counter remedies. See a doctor if you experience severe pain, blood in stool, persistent vomiting, or symptoms lasting more than a few days.\",\n        \"diarrhea\": \"For diarrhea, stay well-hydrated with water, clear broths, and electrolyte solutions. Avoid dairy, caffeine, and high-fiber foods. Try the BRAT diet (bananas, rice, applesauce, toast). If diarrhea persists more than 2 days, contains blood, or is accompanied by fever over 102\\xb0F (39\\xb0C), seek medical attention.\",\n        \"rash\": \"For skin rashes, avoid scratching, use cool compresses, try over-the-counter hydrocortisone cream or antihistamines, and keep the area clean. See a doctor if the rash is painful, widespread, includes blisters, or is accompanied by fever or difficulty breathing.\",\n        \"sleep\": \"To improve sleep, maintain a consistent sleep schedule, create a relaxing bedtime routine, limit screen time before bed, avoid caffeine and alcohol in the evening, ensure your bedroom is dark and cool, and consider relaxation techniques like deep breathing or meditation.\",\n        \"stress\": \"To manage stress, try regular exercise, deep breathing, meditation, maintaining a balanced diet, limiting caffeine and alcohol, getting enough sleep, connecting with supportive people, and considering professional help if stress becomes overwhelming.\",\n        \"anxiety\": \"For anxiety, practice deep breathing exercises, progressive muscle relaxation, mindfulness meditation, regular physical activity, and maintaining a healthy diet and sleep schedule. If anxiety interferes with daily life, consider talking to a mental health professional.\",\n        \"depression\": \"If you're experiencing symptoms of depression, try to maintain regular physical activity, eat a balanced diet, establish regular sleep patterns, connect with supportive people, and set small achievable goals. Most importantly, please consider reaching out to a mental health professional for proper support and treatment.\",\n        \"nutrition\": \"For good nutrition, aim for a balanced diet with plenty of fruits, vegetables, whole grains, lean proteins, and healthy fats. Limit processed foods, sugary drinks, and excessive salt. Stay hydrated and consider your individual dietary needs based on age, gender, and activity level.\",\n        \"exercise\": \"For exercise recommendations, aim for at least 150 minutes of moderate-intensity activity or 75 minutes of vigorous activity per week, plus muscle-strengthening activities twice weekly. Start slowly if you're new to exercise and choose activities you enjoy to help maintain consistency.\",\n        \"heart\": \"For heart health, maintain a balanced diet low in saturated fats, trans fats, and sodium, exercise regularly, avoid smoking, limit alcohol, manage stress, and get regular check-ups to monitor blood pressure, cholesterol, and blood sugar levels.\",\n        \"pregnancy\": \"During pregnancy, attend all prenatal appointments, take prenatal vitamins with folic acid, stay hydrated, eat a balanced diet, get regular gentle exercise as approved by your doctor, get adequate rest, and avoid alcohol, tobacco, and certain medications. Contact your healthcare provider with any concerns.\",\n        \"vaccination\": \"Vaccinations are essential for preventing serious diseases. Stay up-to-date with recommended vaccines based on your age, health conditions, and lifestyle factors. If you're unsure about which vaccines you might need, consult with your healthcare provider for personalized recommendations.\",\n        \"flu\": \"For the flu, rest, stay hydrated, take over-the-counter fever reducers like acetaminophen or ibuprofen, use a humidifier, and consider antiviral medications if prescribed early in your illness. Seek medical attention if you experience difficulty breathing, persistent chest pain, confusion, or severe weakness.\"\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (isLoaded && !user) {\n            router.push(\"/\");\n        }\n        setMounted(true);\n    }, [\n        isLoaded,\n        user,\n        router\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (messagesEndRef.current) {\n            messagesEndRef.current.scrollIntoView({\n                behavior: \"smooth\"\n            });\n        }\n    }, [\n        messages\n    ]);\n    const handleSignOut = async ()=>{\n        await signOut();\n        router.push(\"/\");\n    };\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        if (!input.trim()) return;\n        const userMessage = {\n            id: Date.now().toString(),\n            text: input,\n            sender: \"user\",\n            timestamp: new Date()\n        };\n        setMessages((prev)=>[\n                ...prev,\n                userMessage\n            ]);\n        setInput(\"\");\n        setIsLoading(true);\n        try {\n            // Try the Gemini API first\n            let botText = \"\";\n            let useLocalFallback = false;\n            try {\n                const response = await fetch(\"https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent?key=\".concat(GEMINI_API_KEY), {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        contents: [\n                            {\n                                role: \"user\",\n                                parts: [\n                                    {\n                                        text: \"You are AidX, a healthcare assistant. Be concise and helpful.\\n                    Answer the following question about health or medical topics: \".concat(input)\n                                    }\n                                ]\n                            }\n                        ],\n                        generationConfig: {\n                            temperature: 0.7,\n                            topK: 40,\n                            topP: 0.95,\n                            maxOutputTokens: 800\n                        },\n                        safetySettings: [\n                            {\n                                category: \"HARM_CATEGORY_HARASSMENT\",\n                                threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n                            },\n                            {\n                                category: \"HARM_CATEGORY_HATE_SPEECH\",\n                                threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n                            },\n                            {\n                                category: \"HARM_CATEGORY_SEXUALLY_EXPLICIT\",\n                                threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n                            },\n                            {\n                                category: \"HARM_CATEGORY_DANGEROUS_CONTENT\",\n                                threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n                            }\n                        ]\n                    })\n                });\n                if (!response.ok) {\n                    throw new Error(\"API request failed with status: \".concat(response.status));\n                }\n                const data = await response.json();\n                // Check for valid response structure\n                if (data.candidates && data.candidates.length > 0 && data.candidates[0].content && data.candidates[0].content.parts && data.candidates[0].content.parts.length > 0) {\n                    botText = data.candidates[0].content.parts[0].text;\n                } else {\n                    // If response structure is unexpected, use fallback\n                    useLocalFallback = true;\n                }\n            } catch (error) {\n                console.error(\"Gemini API error:\", error);\n                useLocalFallback = true;\n            }\n            // If the API failed or returned invalid response, use our local fallback system\n            if (useLocalFallback) {\n                const userQuery = input.toLowerCase();\n                botText = \"I understand you have a health concern. For specific medical advice, please consult with a healthcare professional. Remember that AidX offers telemedicine appointments that you can book through your dashboard.\";\n                let matched = false;\n                // Check for greetings first\n                if (userQuery.match(/^(hi|hello|hey|greetings)/i)) {\n                    botText = \"Hello! I'm here to help with any health-related questions you might have. How can I assist you today?\";\n                    matched = true;\n                } else if (userQuery.match(/^(thanks|thank you|thx)/i)) {\n                    botText = \"You're welcome! If you have any other health questions, feel free to ask. Your health is our priority.\";\n                    matched = true;\n                } else if (userQuery.includes(\"aidx\") || userQuery.includes(\"service\") || userQuery.includes(\"help\")) {\n                    botText = \"AidX provides healthcare services including consultations, prescriptions, and health monitoring. Our platform connects you with qualified healthcare professionals and provides resources to help you manage your health.\";\n                    matched = true;\n                } else {\n                    for (const [keyword, response] of Object.entries(healthFAQ)){\n                        if (userQuery.includes(keyword)) {\n                            botText = response;\n                            matched = true;\n                            break;\n                        }\n                    }\n                }\n                // If no specific match, provide a more helpful generic response\n                if (!matched) {\n                    // Try to detect if it's a question about a symptom\n                    if (userQuery.includes(\"symptom\") || userQuery.includes(\"feel\") || userQuery.includes(\"hurt\") || userQuery.includes(\"pain\")) {\n                        botText = \"It sounds like you're experiencing some symptoms. While I can provide general information, it's important to consult with a healthcare professional for personalized advice. If your symptoms are severe or concerning, please seek medical attention promptly.\";\n                    } else if (userQuery.includes(\"health\") || userQuery.includes(\"wellness\") || userQuery.includes(\"doctor\")) {\n                        botText = \"Maintaining good health involves a balanced diet, regular exercise, adequate sleep, stress management, and regular check-ups with healthcare providers. Is there a specific aspect of health you'd like information about?\";\n                    }\n                }\n            }\n            const botResponse = {\n                id: (Date.now() + 1).toString(),\n                text: botText,\n                sender: \"bot\",\n                timestamp: new Date()\n            };\n            // Simulate network delay for a better UX\n            setTimeout(()=>{\n                setMessages((prev)=>[\n                        ...prev,\n                        botResponse\n                    ]);\n                setIsLoading(false);\n            }, 1000);\n        } catch (error) {\n            console.error(\"Error in chat response:\", error);\n            const errorResponse = {\n                id: (Date.now() + 1).toString(),\n                text: \"I apologize for the inconvenience. I'm having trouble processing your request. Please try asking about common health topics like fever, headache, cold, or allergies.\",\n                sender: \"bot\",\n                timestamp: new Date()\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    errorResponse\n                ]);\n            setIsLoading(false);\n        }\n    };\n    if (!isLoaded || !user) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"animate-pulse\",\n            children: \"Loading...\"\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n            lineNumber: 239,\n            columnNumber: 12\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen flex flex-col bg-white transition-opacity duration-500 \".concat(mounted ? \"opacity-100\" : \"opacity-0\"),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                className: \"py-4 px-6 flex justify-between items-center border-b backdrop-blur-sm bg-white/80 sticky top-0 z-50 transition-all duration-300\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        href: \"/patient/dashboard\",\n                        className: \"text-xl font-semibold transform transition-transform duration-300 hover:scale-105\",\n                        children: \"AidX\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                        lineNumber: 246,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                href: \"/patient/dashboard\",\n                                className: \"text-gray-600 hover:text-gray-900 transition-all duration-300 hover:-translate-y-1\",\n                                children: \"Dashboard\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                lineNumber: 250,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSignOut,\n                                className: \"px-4 py-2 bg-black text-white rounded-lg transition-all duration-300 hover:bg-gray-800 hover:shadow-lg hover:-translate-y-1 active:translate-y-0\",\n                                children: \"Logout\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                lineNumber: 256,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                        lineNumber: 249,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                lineNumber: 245,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 flex flex-col max-w-4xl w-full mx-auto\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-4 bg-black text-white flex items-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative w-10 h-10 rounded-full overflow-hidden\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                        src: \"/logo.png\",\n                                        alt: \"AidX Assistant\",\n                                        fill: true,\n                                        sizes: \"40px\",\n                                        className: \"object-contain\",\n                                        priority: true\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                        lineNumber: 271,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                    lineNumber: 270,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                            className: \"font-medium text-lg\",\n                                            children: \"AidX Healthcare Assistant\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                            lineNumber: 281,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-gray-300\",\n                                            children: \"Ask me anything about your health\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                            lineNumber: 282,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                    lineNumber: 280,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                            lineNumber: 269,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                        lineNumber: 268,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 p-4 overflow-y-auto bg-gray-50\",\n                        children: [\n                            messages.map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mb-6 max-w-[80%] \".concat(message.sender === \"user\" ? \"ml-auto\" : \"mr-auto\"),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-4 rounded-lg \".concat(message.sender === \"user\" ? \"bg-black text-white rounded-tr-none\" : \"bg-gray-200 text-gray-800 rounded-tl-none\"),\n                                            children: message.text\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                            lineNumber: 296,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs mt-1 text-gray-500 \".concat(message.sender === \"user\" ? \"text-right\" : \"text-left\"),\n                                            children: message.timestamp.toLocaleTimeString([], {\n                                                hour: \"2-digit\",\n                                                minute: \"2-digit\"\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                            lineNumber: 305,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, message.id, true, {\n                                    fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                    lineNumber: 290,\n                                    columnNumber: 13\n                                }, this)),\n                            isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-6 max-w-[80%] mr-auto\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-4 rounded-lg bg-gray-200 text-gray-800 rounded-tl-none flex items-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"dot-flashing\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                        lineNumber: 317,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                    lineNumber: 316,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                lineNumber: 315,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                ref: messagesEndRef\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                lineNumber: 321,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                        lineNumber: 288,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                        onSubmit: handleSubmit,\n                        className: \"p-4 border-t border-gray-200 bg-white\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex shadow-sm rounded-lg overflow-hidden\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"text\",\n                                    value: input,\n                                    onChange: (e)=>setInput(e.target.value),\n                                    placeholder: \"Type your message...\",\n                                    className: \"flex-1 py-3 px-4 border-0 focus:outline-none focus:ring-0\",\n                                    disabled: isLoading\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                    lineNumber: 327,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"submit\",\n                                    className: \"bg-black text-white py-3 px-6 hover:bg-gray-800 transition-colors disabled:bg-gray-400 flex items-center\",\n                                    disabled: isLoading || !input.trim(),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"mr-2\",\n                                            children: \"Send\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                            lineNumber: 340,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                            className: \"h-5 w-5\",\n                                            viewBox: \"0 0 20 20\",\n                                            fill: \"currentColor\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                d: \"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11h2v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                                lineNumber: 342,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                            lineNumber: 341,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                                    lineNumber: 335,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                            lineNumber: 326,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                        lineNumber: 325,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n                lineNumber: 266,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\susmi\\\\OneDrive\\\\Desktop\\\\Everything\\\\AidX\\\\src\\\\app\\\\patient\\\\chatbot\\\\page.tsx\",\n        lineNumber: 243,\n        columnNumber: 5\n    }, this);\n}\n_s(PatientChatbot, \"WmFwoF3u2g+C90j+aHlhUZDwwzI=\", false, function() {\n    return [\n        _clerk_nextjs__WEBPACK_IMPORTED_MODULE_5__.useUser,\n        _clerk_nextjs__WEBPACK_IMPORTED_MODULE_5__.useClerk,\n        next_navigation__WEBPACK_IMPORTED_MODULE_1__.useRouter\n    ];\n});\n_c = PatientChatbot;\nvar _c;\n$RefreshReg$(_c, \"PatientChatbot\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvcGF0aWVudC9jaGF0Ym90L3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFFa0Q7QUFDTjtBQUNRO0FBQ3ZCO0FBQ0U7QUFTaEIsU0FBU1E7O0lBQ3RCLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxRQUFRLEVBQUUsR0FBR1Ysc0RBQU9BO0lBQ2xDLE1BQU0sRUFBRVcsT0FBTyxFQUFFLEdBQUdWLHVEQUFRQTtJQUM1QixNQUFNVyxTQUFTViwwREFBU0E7SUFDeEIsTUFBTSxDQUFDVyxTQUFTQyxXQUFXLEdBQUdWLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ1csVUFBVUMsWUFBWSxHQUFHWiwrQ0FBUUEsQ0FBWTtRQUNsRDtZQUNFYSxJQUFJO1lBQ0pDLE1BQU07WUFDTkMsUUFBUTtZQUNSQyxXQUFXLElBQUlDO1FBQ2pCO0tBQ0Q7SUFDRCxNQUFNLENBQUNDLE9BQU9DLFNBQVMsR0FBR25CLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQ29CLFdBQVdDLGFBQWEsR0FBR3JCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU1zQixpQkFBaUJyQiw2Q0FBTUEsQ0FBaUI7SUFFOUMsa0NBQWtDO0lBQ2xDLE1BQU1zQixpQkFBaUI7SUFFdkIsb0NBQW9DO0lBQ3BDLE1BQU1DLFlBQVk7UUFDaEIsU0FBUztRQUNULFlBQVk7UUFDWixRQUFRO1FBQ1IsU0FBUztRQUNULFNBQVM7UUFDVCxrQkFBa0I7UUFDbEIsWUFBWTtRQUNaLFdBQVc7UUFDWCxRQUFRO1FBQ1IsY0FBYztRQUNkLFdBQVc7UUFDWCxZQUFZO1FBQ1osUUFBUTtRQUNSLFNBQVM7UUFDVCxVQUFVO1FBQ1YsV0FBVztRQUNYLGNBQWM7UUFDZCxhQUFhO1FBQ2IsWUFBWTtRQUNaLFNBQVM7UUFDVCxhQUFhO1FBQ2IsZUFBZTtRQUNmLE9BQU87SUFDVDtJQUVBekIsZ0RBQVNBLENBQUM7UUFDUixJQUFJTyxZQUFZLENBQUNELE1BQU07WUFDckJH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Ozs7Ozs7Ozs7Ozs7OztBQVF4QjtHQTlVd0IzRzs7UUFDS1Isa0RBQU9BO1FBQ2RDLG1EQUFRQTtRQUNiQyxzREFBU0E7OztLQUhGTSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBwL3BhdGllbnQvY2hhdGJvdC9wYWdlLnRzeD9jMjE0Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCB7IHVzZVVzZXIsIHVzZUNsZXJrIH0gZnJvbSAnQGNsZXJrL25leHRqcyc7XHJcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcclxuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xyXG5cclxuaW50ZXJmYWNlIE1lc3NhZ2Uge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGV4dDogc3RyaW5nO1xyXG4gIHNlbmRlcjogJ3VzZXInIHwgJ2JvdCc7XHJcbiAgdGltZXN0YW1wOiBEYXRlO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYXRpZW50Q2hhdGJvdCgpIHtcclxuICBjb25zdCB7IHVzZXIsIGlzTG9hZGVkIH0gPSB1c2VVc2VyKCk7XHJcbiAgY29uc3QgeyBzaWduT3V0IH0gPSB1c2VDbGVyaygpO1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IFttb3VudGVkLCBzZXRNb3VudGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW1xyXG4gICAge1xyXG4gICAgICBpZDogJzEnLFxyXG4gICAgICB0ZXh0OiAnSGVsbG8hIEhvdyBjYW4gSSBoZWxwIHlvdSB3aXRoIHlvdXIgaGVhbHRoY2FyZSBxdWVzdGlvbnMgdG9kYXk/JyxcclxuICAgICAgc2VuZGVyOiAnYm90JyxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgfSxcclxuICBdKTtcclxuICBjb25zdCBbaW5wdXQsIHNldElucHV0XSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcclxuICBcclxuICAvLyBVc2UgdGhlIHByb3ZpZGVkIEdlbWluaSBBUEkga2V5XHJcbiAgY29uc3QgR0VNSU5JX0FQSV9LRVkgPSAnQUl6YVN5Qy1LY1N2M0licDlOQ2t3dWJBN1VNbUFGU2VILTJFdklBJztcclxuICBcclxuICAvLyBIZWFsdGggRkFRIHJlc3BvbnNlcyBmb3IgZmFsbGJhY2tcclxuICBjb25zdCBoZWFsdGhGQVEgPSB7XHJcbiAgICBcImZldmVyXCI6IFwiSWYgeW91IGhhdmUgYSBmZXZlciwgaXQncyByZWNvbW1lbmRlZCB0byByZXN0LCBzdGF5IGh5ZHJhdGVkLCBhbmQgdGFrZSBvdmVyLXRoZS1jb3VudGVyIGZldmVyIHJlZHVjZXJzIGxpa2UgYWNldGFtaW5vcGhlbiBpZiB5b3VyIHRlbXBlcmF0dXJlIGlzIGFib3ZlIDEwMC40wrBGICgzOMKwQykuIElmIHlvdXIgZmV2ZXIgcGVyc2lzdHMgZm9yIG1vcmUgdGhhbiB0aHJlZSBkYXlzLCBleGNlZWRzIDEwM8KwRiAoMzkuNMKwQyksIG9yIGlzIGFjY29tcGFuaWVkIGJ5IHNldmVyZSBzeW1wdG9tcywgcGxlYXNlIHNlZWsgbWVkaWNhbCBhdHRlbnRpb24gaW1tZWRpYXRlbHkuXCIsXHJcbiAgICBcImhlYWRhY2hlXCI6IFwiRm9yIGhlYWRhY2hlcywgdHJ5IHJlc3RpbmcgaW4gYSBxdWlldCwgZGFyayByb29tLCBhcHBseSBhIGNvbGQgY29tcHJlc3MgdG8geW91ciBmb3JlaGVhZCwgYW5kIGNvbnNpZGVyIG92ZXItdGhlLWNvdW50ZXIgcGFpbiByZWxpZXZlcnMgbGlrZSBpYnVwcm9mZW4gb3IgYWNldGFtaW5vcGhlbi4gSWYgeW91IGV4cGVyaWVuY2Ugc2V2ZXJlLCBzdWRkZW4gaGVhZGFjaGVzLCBoZWFkYWNoZXMgd2l0aCBmZXZlciwgc3RpZmYgbmVjaywgY29uZnVzaW9uLCBzZWl6dXJlcywgb3IgYWZ0ZXIgYSBoZWFkIGluanVyeSwgc2VlayBpbW1lZGlhdGUgbWVkaWNhbCBhdHRlbnRpb24uXCIsXHJcbiAgICBcImNvbGRcIjogXCJGb3IgY29tbW9uIGNvbGRzLCBnZXQgcGxlbnR5IG9mIHJlc3QsIHN0YXkgaHlkcmF0ZWQsIHVzZSBhIGh1bWlkaWZpZXIsIGFuZCB0cnkgb3Zlci10aGUtY291bnRlciBjb2xkIG1lZGljYXRpb25zIGZvciBzeW1wdG9tIHJlbGllZi4gSWYgc3ltcHRvbXMgd29yc2VuIGFmdGVyIGEgd2VlayBvciB5b3UgZGV2ZWxvcCBoaWdoIGZldmVyLCBzZXZlcmUgc29yZSB0aHJvYXQsIG9yIGRpZmZpY3VsdHkgYnJlYXRoaW5nLCBjb25zdWx0IGEgaGVhbHRoY2FyZSBwcm92aWRlci5cIixcclxuICAgIFwiY291Z2hcIjogXCJGb3IgYSBjb3VnaCwgc3RheSBoeWRyYXRlZCwgdXNlIGhvbmV5IChpZiBvdmVyIDEgeWVhciBvbGQpLCB0cnkgY291Z2ggZHJvcHMsIHVzZSBhIGh1bWlkaWZpZXIsIGFuZCBhdm9pZCBpcnJpdGFudHMuIFNlZSBhIGRvY3RvciBpZiB5b3VyIGNvdWdoIGxhc3RzIG1vcmUgdGhhbiAzIHdlZWtzLCBicmluZ3MgdXAgYmxvb2Qgb3IgdGhpY2sgbXVjdXMsIG9yIGlzIGFjY29tcGFuaWVkIGJ5IGZldmVyIG9yIGRpZmZpY3VsdHkgYnJlYXRoaW5nLlwiLFxyXG4gICAgXCJjb3ZpZFwiOiBcIklmIHlvdSBzdXNwZWN0IENPVklELTE5LCBtb25pdG9yIHlvdXIgc3ltcHRvbXMsIGlzb2xhdGUgeW91cnNlbGYsIHJlc3QsIHN0YXkgaHlkcmF0ZWQsIGFuZCB0YWtlIG92ZXItdGhlLWNvdW50ZXIgbWVkaWNhdGlvbnMgZm9yIGZldmVyLiBTZWVrIGVtZXJnZW5jeSBjYXJlIGlmIHlvdSBleHBlcmllbmNlIGRpZmZpY3VsdHkgYnJlYXRoaW5nLCBwZXJzaXN0ZW50IGNoZXN0IHBhaW4sIGNvbmZ1c2lvbiwgb3IgYmx1aXNoIGxpcHMgb3IgZmFjZS5cIixcclxuICAgIFwiYmxvb2QgcHJlc3N1cmVcIjogXCJUbyBtYW5hZ2UgYmxvb2QgcHJlc3N1cmUsIG1haW50YWluIGEgaGVhbHRoeSBkaWV0IGxvdyBpbiBzb2RpdW0gYW5kIHJpY2ggaW4gZnJ1aXRzIGFuZCB2ZWdldGFibGVzLCBleGVyY2lzZSByZWd1bGFybHksIGxpbWl0IGFsY29ob2wsIGF2b2lkIHNtb2tpbmcsIHJlZHVjZSBzdHJlc3MsIGFuZCB0YWtlIHByZXNjcmliZWQgbWVkaWNhdGlvbnMgY29uc2lzdGVudGx5LiBSZWd1bGFyIG1vbml0b3JpbmcgaXMgaW1wb3J0YW50LlwiLFxyXG4gICAgXCJkaWFiZXRlc1wiOiBcIkZvciBkaWFiZXRlcyBtYW5hZ2VtZW50LCBtb25pdG9yIHlvdXIgYmxvb2Qgc3VnYXIgcmVndWxhcmx5LCB0YWtlIG1lZGljYXRpb25zIGFzIHByZXNjcmliZWQsIGVhdCBhIGJhbGFuY2VkIGRpZXQgd2l0aCBjb25zaXN0ZW50IGNhcmJvaHlkcmF0ZSBpbnRha2UsIGV4ZXJjaXNlIHJlZ3VsYXJseSwgYW5kIGF0dGVuZCBhbGwgZm9sbG93LXVwIGFwcG9pbnRtZW50cyB3aXRoIHlvdXIgaGVhbHRoY2FyZSBwcm92aWRlci5cIixcclxuICAgIFwiYWxsZXJneVwiOiBcIkZvciBhbGxlcmdpZXMsIGlkZW50aWZ5IGFuZCBhdm9pZCB0cmlnZ2VycywgdGFrZSBhbnRpaGlzdGFtaW5lcyBvciBvdGhlciBwcmVzY3JpYmVkIG1lZGljYXRpb25zLCBrZWVwIHdpbmRvd3MgY2xvc2VkIGR1cmluZyBoaWdoIHBvbGxlbiBzZWFzb25zLCB1c2UgYWlyIHB1cmlmaWVycywgYW5kIHNob3dlciBhZnRlciBiZWluZyBvdXRkb29ycy4gQ29uc3VsdCBhbiBhbGxlcmdpc3QgZm9yIHNldmVyZSBvciBwZXJzaXN0ZW50IHN5bXB0b21zLlwiLFxyXG4gICAgXCJwYWluXCI6IFwiRm9yIGdlbmVyYWwgcGFpbiwgdHJ5IHJlc3QsIGljZSBvciBoZWF0IHRoZXJhcHksIG92ZXItdGhlLWNvdW50ZXIgcGFpbiByZWxpZXZlcnMsIGFuZCBnZW50bGUgc3RyZXRjaGluZy4gSWYgcGFpbiBpcyBzZXZlcmUsIHdvcnNlbmluZywgb3IgYWNjb21wYW5pZWQgYnkgb3RoZXIgY29uY2VybmluZyBzeW1wdG9tcywgcGxlYXNlIGNvbnN1bHQgYSBoZWFsdGhjYXJlIHByb3ZpZGVyLlwiLFxyXG4gICAgXCJtZWRpY2F0aW9uXCI6IFwiQWx3YXlzIHRha2UgbWVkaWNhdGlvbnMgYXMgcHJlc2NyaWJlZCBieSB5b3VyIGhlYWx0aGNhcmUgcHJvdmlkZXIuIERvbid0IHN0b3AgbWVkaWNhdGlvbnMgd2l0aG91dCBjb25zdWx0aW5nIHlvdXIgZG9jdG9yLCBldmVuIGlmIHlvdSBmZWVsIGJldHRlci4gS2VlcCBhIGxpc3Qgb2YgYWxsIG1lZGljYXRpb25zIHlvdSB0YWtlLCBpbmNsdWRpbmcgb3Zlci10aGUtY291bnRlciBkcnVncyBhbmQgc3VwcGxlbWVudHMuXCIsXHJcbiAgICBcInN0b21hY2hcIjogXCJGb3Igc3RvbWFjaCBpc3N1ZXMsIHN0YXkgaHlkcmF0ZWQsIGVhdCBibGFuZCBmb29kcyBsaWtlIGJhbmFuYXMsIHJpY2UsIGFwcGxlc2F1Y2UsIGFuZCB0b2FzdCAoQlJBVCBkaWV0KSwgYXZvaWQgc3BpY3kgb3IgZmF0dHkgZm9vZHMsIGFuZCBjb25zaWRlciBvdmVyLXRoZS1jb3VudGVyIHJlbWVkaWVzLiBTZWUgYSBkb2N0b3IgaWYgeW91IGV4cGVyaWVuY2Ugc2V2ZXJlIHBhaW4sIGJsb29kIGluIHN0b29sLCBwZXJzaXN0ZW50IHZvbWl0aW5nLCBvciBzeW1wdG9tcyBsYXN0aW5nIG1vcmUgdGhhbiBhIGZldyBkYXlzLlwiLFxyXG4gICAgXCJkaWFycmhlYVwiOiBcIkZvciBkaWFycmhlYSwgc3RheSB3ZWxsLWh5ZHJhdGVkIHdpdGggd2F0ZXIsIGNsZWFyIGJyb3RocywgYW5kIGVsZWN0cm9seXRlIHNvbHV0aW9ucy4gQXZvaWQgZGFpcnksIGNhZmZlaW5lLCBhbmQgaGlnaC1maWJlciBmb29kcy4gVHJ5IHRoZSBCUkFUIGRpZXQgKGJhbmFuYXMsIHJpY2UsIGFwcGxlc2F1Y2UsIHRvYXN0KS4gSWYgZGlhcnJoZWEgcGVyc2lzdHMgbW9yZSB0aGFuIDIgZGF5cywgY29udGFpbnMgYmxvb2QsIG9yIGlzIGFjY29tcGFuaWVkIGJ5IGZldmVyIG92ZXIgMTAywrBGICgzOcKwQyksIHNlZWsgbWVkaWNhbCBhdHRlbnRpb24uXCIsXHJcbiAgICBcInJhc2hcIjogXCJGb3Igc2tpbiByYXNoZXMsIGF2b2lkIHNjcmF0Y2hpbmcsIHVzZSBjb29sIGNvbXByZXNzZXMsIHRyeSBvdmVyLXRoZS1jb3VudGVyIGh5ZHJvY29ydGlzb25lIGNyZWFtIG9yIGFudGloaXN0YW1pbmVzLCBhbmQga2VlcCB0aGUgYXJlYSBjbGVhbi4gU2VlIGEgZG9jdG9yIGlmIHRoZSByYXNoIGlzIHBhaW5mdWwsIHdpZGVzcHJlYWQsIGluY2x1ZGVzIGJsaXN0ZXJzLCBvciBpcyBhY2NvbXBhbmllZCBieSBmZXZlciBvciBkaWZmaWN1bHR5IGJyZWF0aGluZy5cIixcclxuICAgIFwic2xlZXBcIjogXCJUbyBpbXByb3ZlIHNsZWVwLCBtYWludGFpbiBhIGNvbnNpc3RlbnQgc2xlZXAgc2NoZWR1bGUsIGNyZWF0ZSBhIHJlbGF4aW5nIGJlZHRpbWUgcm91dGluZSwgbGltaXQgc2NyZWVuIHRpbWUgYmVmb3JlIGJlZCwgYXZvaWQgY2FmZmVpbmUgYW5kIGFsY29ob2wgaW4gdGhlIGV2ZW5pbmcsIGVuc3VyZSB5b3VyIGJlZHJvb20gaXMgZGFyayBhbmQgY29vbCwgYW5kIGNvbnNpZGVyIHJlbGF4YXRpb24gdGVjaG5pcXVlcyBsaWtlIGRlZXAgYnJlYXRoaW5nIG9yIG1lZGl0YXRpb24uXCIsXHJcbiAgICBcInN0cmVzc1wiOiBcIlRvIG1hbmFnZSBzdHJlc3MsIHRyeSByZWd1bGFyIGV4ZXJjaXNlLCBkZWVwIGJyZWF0aGluZywgbWVkaXRhdGlvbiwgbWFpbnRhaW5pbmcgYSBiYWxhbmNlZCBkaWV0LCBsaW1pdGluZyBjYWZmZWluZSBhbmQgYWxjb2hvbCwgZ2V0dGluZyBlbm91Z2ggc2xlZXAsIGNvbm5lY3Rpbmcgd2l0aCBzdXBwb3J0aXZlIHBlb3BsZSwgYW5kIGNvbnNpZGVyaW5nIHByb2Zlc3Npb25hbCBoZWxwIGlmIHN0cmVzcyBiZWNvbWVzIG92ZXJ3aGVsbWluZy5cIixcclxuICAgIFwiYW54aWV0eVwiOiBcIkZvciBhbnhpZXR5LCBwcmFjdGljZSBkZWVwIGJyZWF0aGluZyBleGVyY2lzZXMsIHByb2dyZXNzaXZlIG11c2NsZSByZWxheGF0aW9uLCBtaW5kZnVsbmVzcyBtZWRpdGF0aW9uLCByZWd1bGFyIHBoeXNpY2FsIGFjdGl2aXR5LCBhbmQgbWFpbnRhaW5pbmcgYSBoZWFsdGh5IGRpZXQgYW5kIHNsZWVwIHNjaGVkdWxlLiBJZiBhbnhpZXR5IGludGVyZmVyZXMgd2l0aCBkYWlseSBsaWZlLCBjb25zaWRlciB0YWxraW5nIHRvIGEgbWVudGFsIGhlYWx0aCBwcm9mZXNzaW9uYWwuXCIsXHJcbiAgICBcImRlcHJlc3Npb25cIjogXCJJZiB5b3UncmUgZXhwZXJpZW5jaW5nIHN5bXB0b21zIG9mIGRlcHJlc3Npb24sIHRyeSB0byBtYWludGFpbiByZWd1bGFyIHBoeXNpY2FsIGFjdGl2aXR5LCBlYXQgYSBiYWxhbmNlZCBkaWV0LCBlc3RhYmxpc2ggcmVndWxhciBzbGVlcCBwYXR0ZXJucywgY29ubmVjdCB3aXRoIHN1cHBvcnRpdmUgcGVvcGxlLCBhbmQgc2V0IHNtYWxsIGFjaGlldmFibGUgZ29hbHMuIE1vc3QgaW1wb3J0YW50bHksIHBsZWFzZSBjb25zaWRlciByZWFjaGluZyBvdXQgdG8gYSBtZW50YWwgaGVhbHRoIHByb2Zlc3Npb25hbCBmb3IgcHJvcGVyIHN1cHBvcnQgYW5kIHRyZWF0bWVudC5cIixcclxuICAgIFwibnV0cml0aW9uXCI6IFwiRm9yIGdvb2QgbnV0cml0aW9uLCBhaW0gZm9yIGEgYmFsYW5jZWQgZGlldCB3aXRoIHBsZW50eSBvZiBmcnVpdHMsIHZlZ2V0YWJsZXMsIHdob2xlIGdyYWlucywgbGVhbiBwcm90ZWlucywgYW5kIGhlYWx0aHkgZmF0cy4gTGltaXQgcHJvY2Vzc2VkIGZvb2RzLCBzdWdhcnkgZHJpbmtzLCBhbmQgZXhjZXNzaXZlIHNhbHQuIFN0YXkgaHlkcmF0ZWQgYW5kIGNvbnNpZGVyIHlvdXIgaW5kaXZpZHVhbCBkaWV0YXJ5IG5lZWRzIGJhc2VkIG9uIGFnZSwgZ2VuZGVyLCBhbmQgYWN0aXZpdHkgbGV2ZWwuXCIsXHJcbiAgICBcImV4ZXJjaXNlXCI6IFwiRm9yIGV4ZXJjaXNlIHJlY29tbWVuZGF0aW9ucywgYWltIGZvciBhdCBsZWFzdCAxNTAgbWludXRlcyBvZiBtb2RlcmF0ZS1pbnRlbnNpdHkgYWN0aXZpdHkgb3IgNzUgbWludXRlcyBvZiB2aWdvcm91cyBhY3Rpdml0eSBwZXIgd2VlaywgcGx1cyBtdXNjbGUtc3RyZW5ndGhlbmluZyBhY3Rpdml0aWVzIHR3aWNlIHdlZWtseS4gU3RhcnQgc2xvd2x5IGlmIHlvdSdyZSBuZXcgdG8gZXhlcmNpc2UgYW5kIGNob29zZSBhY3Rpdml0aWVzIHlvdSBlbmpveSB0byBoZWxwIG1haW50YWluIGNvbnNpc3RlbmN5LlwiLFxyXG4gICAgXCJoZWFydFwiOiBcIkZvciBoZWFydCBoZWFsdGgsIG1haW50YWluIGEgYmFsYW5jZWQgZGlldCBsb3cgaW4gc2F0dXJhdGVkIGZhdHMsIHRyYW5zIGZhdHMsIGFuZCBzb2RpdW0sIGV4ZXJjaXNlIHJlZ3VsYXJseSwgYXZvaWQgc21va2luZywgbGltaXQgYWxjb2hvbCwgbWFuYWdlIHN0cmVzcywgYW5kIGdldCByZWd1bGFyIGNoZWNrLXVwcyB0byBtb25pdG9yIGJsb29kIHByZXNzdXJlLCBjaG9sZXN0ZXJvbCwgYW5kIGJsb29kIHN1Z2FyIGxldmVscy5cIixcclxuICAgIFwicHJlZ25hbmN5XCI6IFwiRHVyaW5nIHByZWduYW5jeSwgYXR0ZW5kIGFsbCBwcmVuYXRhbCBhcHBvaW50bWVudHMsIHRha2UgcHJlbmF0YWwgdml0YW1pbnMgd2l0aCBmb2xpYyBhY2lkLCBzdGF5IGh5ZHJhdGVkLCBlYXQgYSBiYWxhbmNlZCBkaWV0LCBnZXQgcmVndWxhciBnZW50bGUgZXhlcmNpc2UgYXMgYXBwcm92ZWQgYnkgeW91ciBkb2N0b3IsIGdldCBhZGVxdWF0ZSByZXN0LCBhbmQgYXZvaWQgYWxjb2hvbCwgdG9iYWNjbywgYW5kIGNlcnRhaW4gbWVkaWNhdGlvbnMuIENvbnRhY3QgeW91ciBoZWFsdGhjYXJlIHByb3ZpZGVyIHdpdGggYW55IGNvbmNlcm5zLlwiLFxyXG4gICAgXCJ2YWNjaW5hdGlvblwiOiBcIlZhY2NpbmF0aW9ucyBhcmUgZXNzZW50aWFsIGZvciBwcmV2ZW50aW5nIHNlcmlvdXMgZGlzZWFzZXMuIFN0YXkgdXAtdG8tZGF0ZSB3aXRoIHJlY29tbWVuZGVkIHZhY2NpbmVzIGJhc2VkIG9uIHlvdXIgYWdlLCBoZWFsdGggY29uZGl0aW9ucywgYW5kIGxpZmVzdHlsZSBmYWN0b3JzLiBJZiB5b3UncmUgdW5zdXJlIGFib3V0IHdoaWNoIHZhY2NpbmVzIHlvdSBtaWdodCBuZWVkLCBjb25zdWx0IHdpdGggeW91ciBoZWFsdGhjYXJlIHByb3ZpZGVyIGZvciBwZXJzb25hbGl6ZWQgcmVjb21tZW5kYXRpb25zLlwiLFxyXG4gICAgXCJmbHVcIjogXCJGb3IgdGhlIGZsdSwgcmVzdCwgc3RheSBoeWRyYXRlZCwgdGFrZSBvdmVyLXRoZS1jb3VudGVyIGZldmVyIHJlZHVjZXJzIGxpa2UgYWNldGFtaW5vcGhlbiBvciBpYnVwcm9mZW4sIHVzZSBhIGh1bWlkaWZpZXIsIGFuZCBjb25zaWRlciBhbnRpdmlyYWwgbWVkaWNhdGlvbnMgaWYgcHJlc2NyaWJlZCBlYXJseSBpbiB5b3VyIGlsbG5lc3MuIFNlZWsgbWVkaWNhbCBhdHRlbnRpb24gaWYgeW91IGV4cGVyaWVuY2UgZGlmZmljdWx0eSBicmVhdGhpbmcsIHBlcnNpc3RlbnQgY2hlc3QgcGFpbiwgY29uZnVzaW9uLCBvciBzZXZlcmUgd2Vha25lc3MuXCJcclxuICB9O1xyXG4gIFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoaXNMb2FkZWQgJiYgIXVzZXIpIHtcclxuICAgICAgcm91dGVyLnB1c2goJy8nKTtcclxuICAgIH1cclxuICAgIHNldE1vdW50ZWQodHJ1ZSk7XHJcbiAgfSwgW2lzTG9hZGVkLCB1c2VyLCByb3V0ZXJdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChtZXNzYWdlc0VuZFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XHJcbiAgICB9XHJcbiAgfSwgW21lc3NhZ2VzXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNpZ25PdXQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBhd2FpdCBzaWduT3V0KCk7XHJcbiAgICByb3V0ZXIucHVzaCgnLycpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGlmICghaW5wdXQudHJpbSgpKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgdXNlck1lc3NhZ2U6IE1lc3NhZ2UgPSB7XHJcbiAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXHJcbiAgICAgIHRleHQ6IGlucHV0LFxyXG4gICAgICBzZW5kZXI6ICd1c2VyJyxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgfTtcclxuXHJcbiAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIHVzZXJNZXNzYWdlXSk7XHJcbiAgICBzZXRJbnB1dCgnJyk7XHJcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gVHJ5IHRoZSBHZW1pbmkgQVBJIGZpcnN0XHJcbiAgICAgIGxldCBib3RUZXh0ID0gXCJcIjtcclxuICAgICAgbGV0IHVzZUxvY2FsRmFsbGJhY2sgPSBmYWxzZTtcclxuICAgICAgXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjEvbW9kZWxzL2dlbWluaS1wcm86Z2VuZXJhdGVDb250ZW50P2tleT0ke0dFTUlOSV9BUElfS0VZfWAsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgY29udGVudHM6IFtcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByb2xlOiBcInVzZXJcIixcclxuICAgICAgICAgICAgICAgIHBhcnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogYFlvdSBhcmUgQWlkWCwgYSBoZWFsdGhjYXJlIGFzc2lzdGFudC4gQmUgY29uY2lzZSBhbmQgaGVscGZ1bC5cclxuICAgICAgICAgICAgICAgICAgICBBbnN3ZXIgdGhlIGZvbGxvd2luZyBxdWVzdGlvbiBhYm91dCBoZWFsdGggb3IgbWVkaWNhbCB0b3BpY3M6ICR7aW5wdXR9YFxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBnZW5lcmF0aW9uQ29uZmlnOiB7XHJcbiAgICAgICAgICAgICAgdGVtcGVyYXR1cmU6IDAuNyxcclxuICAgICAgICAgICAgICB0b3BLOiA0MCxcclxuICAgICAgICAgICAgICB0b3BQOiAwLjk1LFxyXG4gICAgICAgICAgICAgIG1heE91dHB1dFRva2VuczogODAwLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzYWZldHlTZXR0aW5nczogW1xyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBcIkhBUk1fQ0FURUdPUllfSEFSQVNTTUVOVFwiLFxyXG4gICAgICAgICAgICAgICAgdGhyZXNob2xkOiBcIkJMT0NLX01FRElVTV9BTkRfQUJPVkVcIlxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwiSEFSTV9DQVRFR09SWV9IQVRFX1NQRUVDSFwiLFxyXG4gICAgICAgICAgICAgICAgdGhyZXNob2xkOiBcIkJMT0NLX01FRElVTV9BTkRfQUJPVkVcIlxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwiSEFSTV9DQVRFR09SWV9TRVhVQUxMWV9FWFBMSUNJVFwiLFxyXG4gICAgICAgICAgICAgICAgdGhyZXNob2xkOiBcIkJMT0NLX01FRElVTV9BTkRfQUJPVkVcIlxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IFwiSEFSTV9DQVRFR09SWV9EQU5HRVJPVVNfQ09OVEVOVFwiLFxyXG4gICAgICAgICAgICAgICAgdGhyZXNob2xkOiBcIkJMT0NLX01FRElVTV9BTkRfQUJPVkVcIlxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHZhbGlkIHJlc3BvbnNlIHN0cnVjdHVyZVxyXG4gICAgICAgIGlmIChkYXRhLmNhbmRpZGF0ZXMgJiYgZGF0YS5jYW5kaWRhdGVzLmxlbmd0aCA+IDAgJiYgXHJcbiAgICAgICAgICAgIGRhdGEuY2FuZGlkYXRlc1swXS5jb250ZW50ICYmIGRhdGEuY2FuZGlkYXRlc1swXS5jb250ZW50LnBhcnRzICYmIFxyXG4gICAgICAgICAgICBkYXRhLmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBib3RUZXh0ID0gZGF0YS5jYW5kaWRhdGVzWzBdLmNvbnRlbnQucGFydHNbMF0udGV4dDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gSWYgcmVzcG9uc2Ugc3RydWN0dXJlIGlzIHVuZXhwZWN0ZWQsIHVzZSBmYWxsYmFja1xyXG4gICAgICAgICAgdXNlTG9jYWxGYWxsYmFjayA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0dlbWluaSBBUEkgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIHVzZUxvY2FsRmFsbGJhY2sgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBJZiB0aGUgQVBJIGZhaWxlZCBvciByZXR1cm5lZCBpbnZhbGlkIHJlc3BvbnNlLCB1c2Ugb3VyIGxvY2FsIGZhbGxiYWNrIHN5c3RlbVxyXG4gICAgICBpZiAodXNlTG9jYWxGYWxsYmFjaykge1xyXG4gICAgICAgIGNvbnN0IHVzZXJRdWVyeSA9IGlucHV0LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgYm90VGV4dCA9IFwiSSB1bmRlcnN0YW5kIHlvdSBoYXZlIGEgaGVhbHRoIGNvbmNlcm4uIEZvciBzcGVjaWZpYyBtZWRpY2FsIGFkdmljZSwgcGxlYXNlIGNvbnN1bHQgd2l0aCBhIGhlYWx0aGNhcmUgcHJvZmVzc2lvbmFsLiBSZW1lbWJlciB0aGF0IEFpZFggb2ZmZXJzIHRlbGVtZWRpY2luZSBhcHBvaW50bWVudHMgdGhhdCB5b3UgY2FuIGJvb2sgdGhyb3VnaCB5b3VyIGRhc2hib2FyZC5cIjtcclxuICAgICAgICBsZXQgbWF0Y2hlZCA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIGZvciBncmVldGluZ3MgZmlyc3RcclxuICAgICAgICBpZiAodXNlclF1ZXJ5Lm1hdGNoKC9eKGhpfGhlbGxvfGhleXxncmVldGluZ3MpL2kpKSB7XHJcbiAgICAgICAgICBib3RUZXh0ID0gXCJIZWxsbyEgSSdtIGhlcmUgdG8gaGVscCB3aXRoIGFueSBoZWFsdGgtcmVsYXRlZCBxdWVzdGlvbnMgeW91IG1pZ2h0IGhhdmUuIEhvdyBjYW4gSSBhc3Npc3QgeW91IHRvZGF5P1wiO1xyXG4gICAgICAgICAgbWF0Y2hlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENoZWNrIGZvciB0aGFua3NcclxuICAgICAgICBlbHNlIGlmICh1c2VyUXVlcnkubWF0Y2goL14odGhhbmtzfHRoYW5rIHlvdXx0aHgpL2kpKSB7XHJcbiAgICAgICAgICBib3RUZXh0ID0gXCJZb3UncmUgd2VsY29tZSEgSWYgeW91IGhhdmUgYW55IG90aGVyIGhlYWx0aCBxdWVzdGlvbnMsIGZlZWwgZnJlZSB0byBhc2suIFlvdXIgaGVhbHRoIGlzIG91ciBwcmlvcml0eS5cIjtcclxuICAgICAgICAgIG1hdGNoZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBmb3IgZ2VuZXJhbCBxdWVyaWVzIGFib3V0IEFpZFhcclxuICAgICAgICBlbHNlIGlmICh1c2VyUXVlcnkuaW5jbHVkZXMoXCJhaWR4XCIpIHx8IHVzZXJRdWVyeS5pbmNsdWRlcyhcInNlcnZpY2VcIikgfHwgdXNlclF1ZXJ5LmluY2x1ZGVzKFwiaGVscFwiKSkge1xyXG4gICAgICAgICAgYm90VGV4dCA9IFwiQWlkWCBwcm92aWRlcyBoZWFsdGhjYXJlIHNlcnZpY2VzIGluY2x1ZGluZyBjb25zdWx0YXRpb25zLCBwcmVzY3JpcHRpb25zLCBhbmQgaGVhbHRoIG1vbml0b3JpbmcuIE91ciBwbGF0Zm9ybSBjb25uZWN0cyB5b3Ugd2l0aCBxdWFsaWZpZWQgaGVhbHRoY2FyZSBwcm9mZXNzaW9uYWxzIGFuZCBwcm92aWRlcyByZXNvdXJjZXMgdG8gaGVscCB5b3UgbWFuYWdlIHlvdXIgaGVhbHRoLlwiO1xyXG4gICAgICAgICAgbWF0Y2hlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENoZWNrIGZvciBoZWFsdGggdG9waWNzXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBmb3IgKGNvbnN0IFtrZXl3b3JkLCByZXNwb25zZV0gb2YgT2JqZWN0LmVudHJpZXMoaGVhbHRoRkFRKSkge1xyXG4gICAgICAgICAgICBpZiAodXNlclF1ZXJ5LmluY2x1ZGVzKGtleXdvcmQpKSB7XHJcbiAgICAgICAgICAgICAgYm90VGV4dCA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgIG1hdGNoZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIElmIG5vIHNwZWNpZmljIG1hdGNoLCBwcm92aWRlIGEgbW9yZSBoZWxwZnVsIGdlbmVyaWMgcmVzcG9uc2VcclxuICAgICAgICBpZiAoIW1hdGNoZWQpIHtcclxuICAgICAgICAgIC8vIFRyeSB0byBkZXRlY3QgaWYgaXQncyBhIHF1ZXN0aW9uIGFib3V0IGEgc3ltcHRvbVxyXG4gICAgICAgICAgaWYgKHVzZXJRdWVyeS5pbmNsdWRlcyhcInN5bXB0b21cIikgfHwgdXNlclF1ZXJ5LmluY2x1ZGVzKFwiZmVlbFwiKSB8fCB1c2VyUXVlcnkuaW5jbHVkZXMoXCJodXJ0XCIpIHx8IHVzZXJRdWVyeS5pbmNsdWRlcyhcInBhaW5cIikpIHtcclxuICAgICAgICAgICAgYm90VGV4dCA9IFwiSXQgc291bmRzIGxpa2UgeW91J3JlIGV4cGVyaWVuY2luZyBzb21lIHN5bXB0b21zLiBXaGlsZSBJIGNhbiBwcm92aWRlIGdlbmVyYWwgaW5mb3JtYXRpb24sIGl0J3MgaW1wb3J0YW50IHRvIGNvbnN1bHQgd2l0aCBhIGhlYWx0aGNhcmUgcHJvZmVzc2lvbmFsIGZvciBwZXJzb25hbGl6ZWQgYWR2aWNlLiBJZiB5b3VyIHN5bXB0b21zIGFyZSBzZXZlcmUgb3IgY29uY2VybmluZywgcGxlYXNlIHNlZWsgbWVkaWNhbCBhdHRlbnRpb24gcHJvbXB0bHkuXCI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyBHZW5lcmFsIGhlYWx0aCBxdWVzdGlvblxyXG4gICAgICAgICAgZWxzZSBpZiAodXNlclF1ZXJ5LmluY2x1ZGVzKFwiaGVhbHRoXCIpIHx8IHVzZXJRdWVyeS5pbmNsdWRlcyhcIndlbGxuZXNzXCIpIHx8IHVzZXJRdWVyeS5pbmNsdWRlcyhcImRvY3RvclwiKSkge1xyXG4gICAgICAgICAgICBib3RUZXh0ID0gXCJNYWludGFpbmluZyBnb29kIGhlYWx0aCBpbnZvbHZlcyBhIGJhbGFuY2VkIGRpZXQsIHJlZ3VsYXIgZXhlcmNpc2UsIGFkZXF1YXRlIHNsZWVwLCBzdHJlc3MgbWFuYWdlbWVudCwgYW5kIHJlZ3VsYXIgY2hlY2stdXBzIHdpdGggaGVhbHRoY2FyZSBwcm92aWRlcnMuIElzIHRoZXJlIGEgc3BlY2lmaWMgYXNwZWN0IG9mIGhlYWx0aCB5b3UnZCBsaWtlIGluZm9ybWF0aW9uIGFib3V0P1wiO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgYm90UmVzcG9uc2U6IE1lc3NhZ2UgPSB7XHJcbiAgICAgICAgaWQ6IChEYXRlLm5vdygpICsgMSkudG9TdHJpbmcoKSxcclxuICAgICAgICB0ZXh0OiBib3RUZXh0LFxyXG4gICAgICAgIHNlbmRlcjogJ2JvdCcsXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gU2ltdWxhdGUgbmV0d29yayBkZWxheSBmb3IgYSBiZXR0ZXIgVVhcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCBib3RSZXNwb25zZV0pO1xyXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH0sIDEwMDApO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gY2hhdCByZXNwb25zZTonLCBlcnJvcik7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBlcnJvclJlc3BvbnNlOiBNZXNzYWdlID0ge1xyXG4gICAgICAgIGlkOiAoRGF0ZS5ub3coKSArIDEpLnRvU3RyaW5nKCksXHJcbiAgICAgICAgdGV4dDogXCJJIGFwb2xvZ2l6ZSBmb3IgdGhlIGluY29udmVuaWVuY2UuIEknbSBoYXZpbmcgdHJvdWJsZSBwcm9jZXNzaW5nIHlvdXIgcmVxdWVzdC4gUGxlYXNlIHRyeSBhc2tpbmcgYWJvdXQgY29tbW9uIGhlYWx0aCB0b3BpY3MgbGlrZSBmZXZlciwgaGVhZGFjaGUsIGNvbGQsIG9yIGFsbGVyZ2llcy5cIixcclxuICAgICAgICBzZW5kZXI6ICdib3QnLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgZXJyb3JSZXNwb25zZV0pO1xyXG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGlmICghaXNMb2FkZWQgfHwgIXVzZXIpIHtcclxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtcHVsc2VcIj5Mb2FkaW5nLi4uPC9kaXY+O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPXtgbWluLWgtc2NyZWVuIGZsZXggZmxleC1jb2wgYmctd2hpdGUgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTUwMCAke21vdW50ZWQgPyAnb3BhY2l0eS0xMDAnIDogJ29wYWNpdHktMCd9YH0+XHJcbiAgICAgIHsvKiBOYXZpZ2F0aW9uICovfVxyXG4gICAgICA8bmF2IGNsYXNzTmFtZT1cInB5LTQgcHgtNiBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgYm9yZGVyLWIgYmFja2Ryb3AtYmx1ci1zbSBiZy13aGl0ZS84MCBzdGlja3kgdG9wLTAgei01MCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDBcIj5cclxuICAgICAgICA8TGluayBocmVmPVwiL3BhdGllbnQvZGFzaGJvYXJkXCIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRyYW5zZm9ybSB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0zMDAgaG92ZXI6c2NhbGUtMTA1XCI+XHJcbiAgICAgICAgICBBaWRYXHJcbiAgICAgICAgPC9MaW5rPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTZcIj5cclxuICAgICAgICAgIDxMaW5rIFxyXG4gICAgICAgICAgICBocmVmPVwiL3BhdGllbnQvZGFzaGJvYXJkXCIgXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgaG92ZXI6dGV4dC1ncmF5LTkwMCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgaG92ZXI6LXRyYW5zbGF0ZS15LTFcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICBEYXNoYm9hcmRcclxuICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2lnbk91dH1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLWJsYWNrIHRleHQtd2hpdGUgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgaG92ZXI6YmctZ3JheS04MDAgaG92ZXI6c2hhZG93LWxnIGhvdmVyOi10cmFuc2xhdGUteS0xIGFjdGl2ZTp0cmFuc2xhdGUteS0wXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgTG9nb3V0XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9uYXY+XHJcblxyXG4gICAgICB7LyogQ2hhdCBJbnRlcmZhY2UgKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggZmxleC1jb2wgbWF4LXctNHhsIHctZnVsbCBteC1hdXRvXCI+XHJcbiAgICAgICAgey8qIENoYXQgSGVhZGVyICovfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJnLWJsYWNrIHRleHQtd2hpdGUgZmxleCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LTEwIGgtMTAgcm91bmRlZC1mdWxsIG92ZXJmbG93LWhpZGRlblwiPlxyXG4gICAgICAgICAgICAgIDxJbWFnZVxyXG4gICAgICAgICAgICAgICAgc3JjPVwiL2xvZ28ucG5nXCJcclxuICAgICAgICAgICAgICAgIGFsdD1cIkFpZFggQXNzaXN0YW50XCJcclxuICAgICAgICAgICAgICAgIGZpbGxcclxuICAgICAgICAgICAgICAgIHNpemVzPVwiNDBweFwiXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJvYmplY3QtY29udGFpblwiXHJcbiAgICAgICAgICAgICAgICBwcmlvcml0eVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWxnXCI+QWlkWCBIZWFsdGhjYXJlIEFzc2lzdGFudDwvaDE+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktMzAwXCI+QXNrIG1lIGFueXRoaW5nIGFib3V0IHlvdXIgaGVhbHRoPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIHsvKiBDaGF0IE1lc3NhZ2VzICovfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHAtNCBvdmVyZmxvdy15LWF1dG8gYmctZ3JheS01MFwiPlxyXG4gICAgICAgICAge21lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gKFxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAga2V5PXttZXNzYWdlLmlkfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YG1iLTYgbWF4LXctWzgwJV0gJHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2VuZGVyID09PSAndXNlcicgPyAnbWwtYXV0bycgOiAnbXItYXV0bydcclxuICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtNCByb3VuZGVkLWxnICR7XHJcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2VuZGVyID09PSAndXNlcidcclxuICAgICAgICAgICAgICAgICAgICA/ICdiZy1ibGFjayB0ZXh0LXdoaXRlIHJvdW5kZWQtdHItbm9uZSdcclxuICAgICAgICAgICAgICAgICAgICA6ICdiZy1ncmF5LTIwMCB0ZXh0LWdyYXktODAwIHJvdW5kZWQtdGwtbm9uZSdcclxuICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHttZXNzYWdlLnRleHR9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGV4dC14cyBtdC0xIHRleHQtZ3JheS01MDAgJHtcclxuICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZW5kZXIgPT09ICd1c2VyJyA/ICd0ZXh0LXJpZ2h0JyA6ICd0ZXh0LWxlZnQnXHJcbiAgICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7bWVzc2FnZS50aW1lc3RhbXAudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7IGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcgfSl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKSl9XHJcbiAgICAgICAgICB7aXNMb2FkaW5nICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02IG1heC13LVs4MCVdIG1yLWF1dG9cIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCByb3VuZGVkLWxnIGJnLWdyYXktMjAwIHRleHQtZ3JheS04MDAgcm91bmRlZC10bC1ub25lIGZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRvdC1mbGFzaGluZ1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgXHJcbiAgICAgICAgey8qIENoYXQgSW5wdXQgKi99XHJcbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwicC00IGJvcmRlci10IGJvcmRlci1ncmF5LTIwMCBiZy13aGl0ZVwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNoYWRvdy1zbSByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlblwiPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgdmFsdWU9e2lucHV0fVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SW5wdXQoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSB5b3VyIG1lc3NhZ2UuLi5cIlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBweS0zIHB4LTQgYm9yZGVyLTAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMFwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsYWNrIHRleHQtd2hpdGUgcHktMyBweC02IGhvdmVyOmJnLWdyYXktODAwIHRyYW5zaXRpb24tY29sb3JzIGRpc2FibGVkOmJnLWdyYXktNDAwIGZsZXggaXRlbXMtY2VudGVyXCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8ICFpbnB1dC50cmltKCl9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtci0yXCI+U2VuZDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTUgdy01XCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cclxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTAuODk0IDIuNTUzYTEgMSAwIDAwLTEuNzg4IDBsLTcgMTRhMSAxIDAgMDAxLjE2OSAxLjQwOWw1LTEuNDI5QTEgMSAwIDAwOSAxNS41NzFWMTFoMnY0LjU3MWExIDEgMCAwMC43MjUuOTYybDUgMS40MjhhMSAxIDAgMDAxLjE3LTEuNDA4bC03LTE0elwiIC8+XHJcbiAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn0gIl0sIm5hbWVzIjpbInVzZVVzZXIiLCJ1c2VDbGVyayIsInVzZVJvdXRlciIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwiTGluayIsIkltYWdlIiwiUGF0aWVudENoYXRib3QiLCJ1c2VyIiwiaXNMb2FkZWQiLCJzaWduT3V0Iiwicm91dGVyIiwibW91bnRlZCIsInNldE1vdW50ZWQiLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwiaWQiLCJ0ZXh0Iiwic2VuZGVyIiwidGltZXN0YW1wIiwiRGF0ZSIsImlucHV0Iiwic2V0SW5wdXQiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJtZXNzYWdlc0VuZFJlZiIsIkdFTUlOSV9BUElfS0VZIiwiaGVhbHRoRkFRIiwicHVzaCIsImN1cnJlbnQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiaGFuZGxlU2lnbk91dCIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRyaW0iLCJ1c2VyTWVzc2FnZSIsIm5vdyIsInRvU3RyaW5nIiwicHJldiIsImJvdFRleHQiLCJ1c2VMb2NhbEZhbGxiYWNrIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnRlbnRzIiwicm9sZSIsInBhcnRzIiwiZ2VuZXJhdGlvbkNvbmZpZyIsInRlbXBlcmF0dXJlIiwidG9wSyIsInRvcFAiLCJtYXhPdXRwdXRUb2tlbnMiLCJzYWZldHlTZXR0aW5ncyIsImNhdGVnb3J5IiwidGhyZXNob2xkIiwib2siLCJFcnJvciIsInN0YXR1cyIsImRhdGEiLCJqc29uIiwiY2FuZGlkYXRlcyIsImxlbmd0aCIsImNvbnRlbnQiLCJlcnJvciIsImNvbnNvbGUiLCJ1c2VyUXVlcnkiLCJ0b0xvd2VyQ2FzZSIsIm1hdGNoZWQiLCJtYXRjaCIsImluY2x1ZGVzIiwia2V5d29yZCIsIk9iamVjdCIsImVudHJpZXMiLCJib3RSZXNwb25zZSIsInNldFRpbWVvdXQiLCJlcnJvclJlc3BvbnNlIiwiZGl2IiwiY2xhc3NOYW1lIiwibmF2IiwiaHJlZiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzcmMiLCJhbHQiLCJmaWxsIiwic2l6ZXMiLCJwcmlvcml0eSIsImgxIiwicCIsIm1hcCIsIm1lc3NhZ2UiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwicmVmIiwiZm9ybSIsIm9uU3VibWl0IiwidHlwZSIsInZhbHVlIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJwbGFjZWhvbGRlciIsImRpc2FibGVkIiwic3BhbiIsInN2ZyIsInhtbG5zIiwidmlld0JveCIsInBhdGgiLCJkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/patient/chatbot/page.tsx\n"));

/***/ })

});